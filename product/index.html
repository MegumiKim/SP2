<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Find the items you like and bid!" />
    <title>bid. | Product Name</title>
    <link rel="stylesheet" href="/dist/css/styles.css" />
    <script src="../src/js/index.mjs" type="module"></script>
    <script
      defer
      src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"
    ></script>
  </head>
  <body class="container">
    <header class="p-3 mb-3">
      <div>
        <div class="d-flex justify-content-between">
          <a href="/" class="logo fs-1 mb-2 mb-lg-0"> bid. </a>

          <div class="align-items-center text-center">
            <div id="nav-link">
              <a id="my-page-link" href="./profile/" class="me-3">My Page</a>
            </div>

            <div class="dropstart">
              <a
                href="./login/"
                class="d-block link-dark text-decoration-none dropdown-toggle"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <img
                  onerror="this.onerror=null;this.src='./asset/img/avatar-placeholder.png'"
                  alt="profile avatar"
                  width="40"
                  height="40"
                  class="rounded-circle"
                  id="navBtn"
                />
              </a>
              <ul
                class="dropdown-menu dropdown-menu-dark text-small me-2"
                id="nav-dropdown"
              >
                <li><a class="dropdown-item" id="my-page">My Page</a></li>
                <li><hr class="dropdown-divider" /></li>
                <li>
                  <button
                    class="dropdown-item"
                    data-bs-toggle="modal"
                    data-bs-target="#confirm-logout"
                  >
                    Logout
                  </button>
                </li>
              </ul>
            </div>
            <div id="points-display"></div>
          </div>
        </div>
      </div>
    </header>
    <main class="mx-4 mx-md-5">
      <a type='button' onclick="history.back()">&#8592 Back</a>
      <div class="row row-cols-1 row-cols-md-2">
        <section id="carouselExampleIndicators" class="mt-2 carousel slide col col-md-7">
          <!-- <div class="carousel-indicators">
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="0"
              class="active"
              aria-current="true"
              aria-label="Slide 1"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="1"
              aria-label="Slide 2"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="2"
              aria-label="Slide 3"
            ></button>
          </div> -->
          <div class="carousel-inner" id="carousel-container">

          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </section>

        <section
          id="product-container"
          class="my-1 col col-md-4 d-flex"
        >
        <img class="loader-icon m-auto m-100" src="/asset/icons/spinner.svg" alt="loader">
        </section>
      </div>
      <section
      id="" class="row g-3 mt-3"
      >

      <div id="description" class="row row-cols-1 row-cols-md-3 d-flex ">

        <div id="description-container" class="card card-specific mb-4 rounded-3 shadow-sm col col-md-4">
          
        </div>
      
        <div id="seller-container"  class="card card-specific mb-4 rounded-3 shadow-sm col col-md-4">

        </div>
      
        <div class="card card-specific mb-4 rounded-3 shadow-sm col col-md-4">
          <div class="card-header py-3">
            <h3 class="my-0 fw-normal">Bid History</h3>
          </div>
          <div class="card-body">
            <ul id="bid-history-container" class=" list-unstyled mt-3 mb-4">
            </ul>
          </div>
        </div>
      </div>
      
      </section>

    </main>

    <!-- Modal place a bid -->
    <div
      class="modal fade"
      id="bidModal"
      tabindex="-1"
      aria-labelledby="postModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog m-4 mx-sm-auto" id="bid-container">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title fs-5 h1" id="bidModal">Make a bid</h3>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>

          <div class="modal-body">
            <div>
              <div id="bid-info-container">

              </div>
            </div>
            <form class="gx-1" id="bid-form">
              <div class="form-group mb-3">
                <label for="">Your bid</label>
                <input type="number" class="" name="amount" required  />
                <button class="btn text-light" type="button" data-bs-toggle="collapse" data-bs-target="#user-help" aria-expanded="false" aria-controls="#user-help">
                  ?
                </button>
              </div>
              <!-- user help -->
              <div class="collapse dark" id="user-help">
                <div class="card card-body">
                  <small class="text-muted">When the listing ends, the winning bid amount will be transferred to the seller's account. All losing bids will be refunded to the original bidder's account balance.</small>
                </div>
              </div>
              <div id="user-alert"></div>
              <div class="modal-footer">
                <button class="btn btn-outline-secondary" data-bs-dismiss="modal">
                  Close
                </button>
                <button
                  type="submit"
                  class="btn btn-secondary"
                >
                  Bid now
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Edit Listing-->
    <div
      class="modal fade"
      id="edit-modal"
      tabindex="-1"
      aria-labelledby="postModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog m-4 mx-sm-auto">
        <div class="modal-content p-3 p-sm-5">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="postModalLabel">
              Edit listing
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <form class="modal-body gx-1" id="edit-form">
            <div class="form-group mb-3">
              <label for="">Title </label>
              <input
                type="text"
                class="form-control"
                name="title"
                maxlength="30"
              />
            </div>

              <div class="form-group mb-3">
              <label for="">Tag</label>
              <input type="text" class="form-control" name="tags" />
            </div>
            <div class="form-group mb-3">
              <label for="">Media URL</label>
              <input type="url" class="form-control" name="media" />
            </div> 
            <div class="form-group mb-3">
              <label for="">Short description</label>
              <textarea
                type="text"
                class="form-control"
                name="description"
                maxlength="150"
              ></textarea>
            </div>
            <div id="user-alert-edit"></div>
            <div class="modal-footer">
              <button class="btn btn-outline-secondary" data-bs-dismiss="modal">
                Cancel
              </button>
              <button
                type="submit"
                class="btn btn-secondary"
         
              >
                Confirm edit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Modal Delete Listing-->
    <div
      class="modal fade"
      id="delete-modal"
      tabindex="-1"
      aria-labelledby="delete"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="logout">Delete</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to delete this item?</p>
            <div class="modal-footer">
              <div id="user-alert-delete"></div>
              <button class="btn btn-secondary" data-bs-dismiss="modal">
                Cancel
              </button>
              <button
                class="btn btn-primary"
                data-bs-dismiss="modal"
                id="delete-btn"
              >
                Delete
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal Confirm Logout-->
    <div
      class="modal fade"
      id="confirm-logout"
      tabindex="-1"
      aria-labelledby="logout"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="logout">Log out</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to logout?</p>
            <p></p>
            <div class="modal-footer">
              <button class="btn btn-secondary" data-bs-dismiss="modal">
                Back
              </button>
              <button
                class="btn btn-primary"
                data-bs-dismiss="modal"
                id="logout-btn"
              >
                Log out
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer class="mt-auto py-3 my-5 pt-5 text-muted text-center text-small">
      <p class="mb-1">© 2023 auction platform - bid.</p>
      <ul class="list-inline">
        <li class="list-inline-item"><a href="#">Privacy</a></li>
        <li class="list-inline-item"><a href="#">Terms</a></li>
        <li class="list-inline-item"><a href="#">Support</a></li>
      </ul>
    </footer>


    <!-- Templates -->
    <div class="d-none templates">

<template id="description-template">
  <div class="card-header py-3">
    <h3 class="my-0 fw-normal">Product Description</h3>
  </div>
  <div class="card-body">
  <p class="description">${data.description}</p>

    <h5 class="card-title pricing-card-title text-light">Tags</h5>
    <ul class="tags-container list-unstyled mt-3 mb-4">
    </ul>
  </div>
</template>

<template id="seller-template">
  <div class="card-header py-3">
    <h3 class="my-0 fw-normal">Seller</h3>
  </div>
  <div class="d-flex list-group-item list-group-item-action py-3" aria-current="true">
    <img src="${data.seller.avatar}" alt="${data.seller.name}" onerror="this.onerror=null;this.src='../../../asset/img/avatar-placeholder.png'" class="bd-placeholder-img flex-shrink-0 me-2 rounded" width="32" height="32">
  
    <div class="d-flex w-100 justify-content-between small lh-sm text-muted">
      <div>
        <strong class="text-gray-dark seller-name">${data.seller.name}</strong>
        <p class="mb-0 opacity-75 email">${data.seller.email}</p>
      </div>
    </div>
  </div>
</template>



      <template id="bid-form-temp">
        <div id="bid-info">
          <h4></h4>
          <ul>
            <h6 class="min-bid"></h6>
            <h6 class="end-time"></h6>
            <h6 class="my-points"></h6>
          </ul>
        </div>
      </template>

      <template id="carousel-template">
        <div class="carousel-item active" 
        data-bs-toggle="modal"
        data-bs-target="#modal-img" >
          <img
            class="d-block w-100 m-auto "

          />
        </div>
        <!-- Modal Closeup img-->
        <div
          class="modal fade"
          id="modal-img"
          tabindex="-1"
          aria-labelledby="logout"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content" >
          <div class="modal-header">
      
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body" id="modal-img-container">
        <div>
          <img  
          class="d-block w-100 m-auto myModal"
          />
        </div>

            </div>
          </div>
        </div>
       </template>

       <template id="product-CTA-section">
        <div class="listing col-12">
          <div class="card card-specific mb-4 rounded-3 shadow-sm">
            <div class="card-header py-3">
              <h1 class="my-0 fw-normal"></h1>
            </div>
            <div class="card-body" id="product-summary">
              <ul class="list-unstyled mt-3 mb-4">
                <li class="currentBid"></li>
                <li class="endTime"> Ends in: ${data.remainingTime} </li>
              </ul>
              <div id="bidBtn-container">
              <button
                type="button"
                class="w-100 btn btn-lg btn-outline-main"
                data-bs-toggle="modal"
                data-bs-target="#bidModal"
                id="bidBtn"
              >
                Make a bid
              </button>
              </div>
            </div>
          </div>
        </div>
        

       </template>

    </div>
  </body>
</html>
